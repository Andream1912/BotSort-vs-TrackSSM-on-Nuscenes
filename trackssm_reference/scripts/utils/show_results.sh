#!/bin/bash
# Summary of TrackSSM evaluation results on NuScenes (7 classes)

echo ""
echo "=============================================================================="
echo "           TRACKSSM vs BOTSORT - EVALUATION RESULTS (7 CLASSES)"
echo "=============================================================================="
echo ""
echo "ðŸ“Š Dataset: NuScenes validation set (CAM_FRONT camera)"
echo "ðŸ“ Sequences: 149 | Total Detections: 34,286"
echo "ðŸŽ¯ Classes: Car, Truck, Bus, Trailer, Pedestrian, Motorcycle, Bicycle"
echo ""
echo "------------------------------------------------------------------------------"
echo "                         PER-CLASS METRICS COMPARISON"
echo "------------------------------------------------------------------------------"
echo ""
printf "%-12s | %10s %10s | %10s %10s | %10s\n" "Class" "T-MOTA" "B-MOTA" "T-IDF1" "B-IDF1" "Î” MOTA"
echo "------------------------------------------------------------------------------"
printf "%-12s | %9.2f%% %9.2f%% | %9.2f%% %9.2f%% | %+9.2f%%\n" "Car" 32.11 78.51 31.18 78.79 -46.40
printf "%-12s | %9.2f%% %9.2f%% | %9.2f%% %9.2f%% | %+9.2f%%\n" "Truck" 24.36 72.95 29.04 83.18 -48.59
printf "%-12s | %9.2f%% %9.2f%% | %9.2f%% %9.2f%% | %+9.2f%%\n" "Bus" 28.76 82.97 27.31 90.08 -54.21
printf "%-12s | %9.2f%% %9.2f%% | %9.2f%% %9.2f%% | %+9.2f%%\n" "Trailer" 20.17 78.56 22.06 88.66 -58.39
printf "%-12s | %9.2f%% %9.2f%% | %9.2f%% %9.2f%% | %+9.2f%%\n" "Pedestrian" 29.79 63.16 32.64 72.43 -33.37
printf "%-12s | %9.2f%% %9.2f%% | %9.2f%% %9.2f%% | %+9.2f%%\n" "Motorcycle" 20.59 62.07 26.81 73.12 -41.48
printf "%-12s | %9.2f%% %9.2f%% | %9.2f%% %9.2f%% | %+9.2f%%\n" "Bicycle" 27.95 63.10 30.57 71.97 -35.15
echo ""
echo "Note: T = TrackSSM (Zero-Shot) | B = BotSort (GT Detections)"
echo ""
echo "------------------------------------------------------------------------------"
echo "                          ID SWITCHES COMPARISON"
echo "------------------------------------------------------------------------------"
echo ""
printf "%-12s | %10s %10s | %10s\n" "Class" "TrackSSM" "BotSort" "Ratio"
echo "------------------------------------------------------------------------------"
printf "%-12s | %10d %10d | %9.1fx\n" "Car" 9506 2438 3.9
printf "%-12s | %10d %10d | %9.1fx\n" "Truck" 2376 118 20.1
printf "%-12s | %10d %10d | %9.1fx\n" "Bus" 657 7 93.9
printf "%-12s | %10d %10d | %9.1fx\n" "Trailer" 460 8 57.5
printf "%-12s | %10d %10d | %9.1fx\n" "Pedestrian" 2989 1036 2.9
printf "%-12s | %10d %10d | %9.1fx\n" "Motorcycle" 437 157 2.8
printf "%-12s | %10d %10d | %9.1fx\n" "Bicycle" 187 67 2.8
echo ""
echo "=============================================================================="
echo "                              KEY INSIGHTS"
echo "=============================================================================="
echo ""
echo "âœ… TRACKSSM STRENGTHS:"
echo "   â€¢ High Precision: 96-98% across all classes (very few false positives)"
echo "   â€¢ Good Recall: 79-88% detection rate"
echo "   â€¢ Zero-shot performance: No NuScenes training required"
echo "   â€¢ Best performance: Pedestrians (29.79% MOTA, 32.64% IDF1)"
echo ""
echo "âŒ TRACKSSM WEAKNESSES:"
echo "   â€¢ MOTA Gap: 33-58% lower than BotSort (uses GT detections)"
echo "   â€¢ ID Switches: 2.8-94Ã— more than BotSort"
echo "   â€¢ Worst classes: Trailer (20.17% MOTA), Motorcycle (20.59% MOTA)"
echo "   â€¢ Identity fragmentation: Poor ID consistency over time"
echo ""
echo "ðŸ” ANALYSIS:"
echo "   â€¢ Performance gap mainly due to GT vs predicted detections"
echo "   â€¢ BotSort uses perfect ground truth bounding boxes"
echo "   â€¢ TrackSSM uses predicted detections (less accurate)"
echo "   â€¢ ID switches caused by motion model not adapted to 2Hz sampling"
echo ""
echo "=============================================================================="
echo "                         GENERATED DELIVERABLES"
echo "=============================================================================="
echo ""
echo "ðŸ“„ Metrics Files:"
echo "   â€¢ trackssm_7classes_per_class_metrics.json"
echo "   â€¢ comparison_trackssm_vs_botsort.json"
echo ""
echo "ðŸ“Š Visualization Plots (8 files):"
echo "   â€¢ mota_comparison.png - MOTA per class"
echo "   â€¢ idf1_comparison.png - IDF1 per class"
echo "   â€¢ idsw_comparison.png - ID switches per class"
echo "   â€¢ precision_comparison.png - Precision per class"
echo "   â€¢ recall_comparison.png - Recall per class"
echo "   â€¢ object_counts.png - Dataset size per class"
echo "   â€¢ combined_metrics.png - 2Ã—2 grid overview"
echo "   â€¢ summary_table.png - Detailed comparison table"
echo ""
echo "ðŸ“ Location: results/final_evaluation/comparison_plots_7classes/"
echo ""
echo "=============================================================================="
echo "                         VIEWING THE PLOTS"
echo "=============================================================================="
echo ""
echo "ï¿½ï¸  To view the plots, navigate to:"
echo "   cd results/final_evaluation/comparison_plots_7classes/"
echo ""
echo "ðŸ“Š Available plots:"
ls -1 results/final_evaluation/comparison_plots_7classes/*.png 2>/dev/null | while read file; do
    basename "$file"
done | sed 's/^/   â€¢ /'
echo ""
echo "=============================================================================="
echo "                              REPOSITORY"
echo "=============================================================================="
echo ""
echo "ðŸ”— GitHub: https://github.com/Andream1912/BotSort-vs-TrackSSM-on-Nuscenes"
echo "ðŸ“Š All plots and metrics available in repository"
echo ""
echo "=============================================================================="
